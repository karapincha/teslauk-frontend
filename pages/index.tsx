import type { NextPage } from 'next'
import Head from 'next/head'
import {
  Header,
  Footer,
  Hero,
  EventCard,
  QuickMembership,
  QuickTestimonials,
  GuidesQuickAccess,
  CallToAction,
  SupplierRibbon,
} from '@/components/sections'
import { getHomePage } from '../lib/graphql'

const Home: NextPage = ({ pageData, countries }: any) => {
  const { hero, featuredEvents, membership, testimonials, guides, cta, supplierBar, footer } =
    pageData

  return (
    <>
      <Head>
        <title>Karapincha UI</title>
        <meta name='description' content='Generated by create next app' />
        <link rel='icon' href='/favicon.ico' />
      </Head>

      <Header className='pt-[16px] md:pt-[24px] md:pb-[8px] lg:py-[24px]' />

      <Hero data={hero.blockHero} className='pt-[20px] pb-[24px] lg:pb-[40px]' />

      <EventCard
        data={featuredEvents.blockFeaturedEvents}
        className='py-[24px] md:py-[80px] lg:py-[80px]'
      />

      <QuickMembership
        data={membership.blockMembership}
        className='py-[24px] md:py-[80px] lg:py-[80px]'
      />

      <QuickTestimonials
        data={testimonials.blockTestimonials}
        className='py-[24px] md:py-[80px] lg:py-[80px]'
      />

      <GuidesQuickAccess
        data={guides.blockGuides}
        className='pb-[24px] md:pb-[80px] lg:pt-[20px] lg:pb-[128px]'
      />

      <CallToAction data={cta.blockCta} />

      <SupplierRibbon data={supplierBar.blockSuppliersBar} className='!pt-0' />
      <Footer data={footer.blockFooter} />
    </>
  )
}

export async function getStaticProps({ preview = false }) {
  const pageData = await getHomePage()

  return {
    props: {
      pageData,
    },
  }
}

export default Home
