import type { NextPage } from 'next'
import Head from 'next/head'
import {
  Hero,
  EventCard,
  QuickMembership,
  QuickTestimonials,
  GuidesQuickAccess,
  CallToAction,
  Header,
} from '@/components/sections'
import { Common as CommonLayout } from '@/components/layouts'

import { getHomePage } from '../lib/graphql'

const Page: NextPage = ({ pageData, countries }: any) => {
  const { hero, featuredEvents, membership, testimonials, guides, cta, supplierBar, footer } =
    pageData

  return (
    <>
      <Head>
        <title>Tesla Owners UK</title>
        <meta name='description' content='Generated by create next app' />
        <link rel='icon' href='/favicon.ico' />
      </Head>

      <CommonLayout className='!pb-0'>
        <div className='fixed left-0 top-0 h-full p-[60px] z-[1]'>
          <h5 className='pb-[24px] text-h5 text-N-800'>Menu</h5>
          <ul className='flex flex-col gap-[8px]'>
            <li>
              <a href='/event-home'>
                <p className='text-base text-N-600 hover:text-B-500'>Events</p>
              </a>
            </li>
            <li>
              <a href='/event-home'>
                <p className='text-base text-N-600 hover:text-B-500'>Events</p>
              </a>
            </li>
            <li>
              <a href='/event-home'>
                <p className='text-base text-N-600 hover:text-B-500'>Events</p>
              </a>
            </li>
            <li>
              <a href='/event-home'>
                <p className='text-base text-N-600 hover:text-B-500'>Events</p>
              </a>
            </li>
            <li>
              <a href='/event-home'>
                <p className='text-base text-N-600 hover:text-B-500'>Events</p>
              </a>
            </li>
          </ul>
        </div>
        <Hero data={hero.blockHero} className='pb-[24px]' />

        <EventCard
          data={featuredEvents.blockFeaturedEvents}
          className='py-[24px] md:pt-[40px] md:pb-[80px]'
        />

        <QuickMembership
          data={membership.blockMembership}
          className='py-[24px] md:py-[80px] lg:py-[80px]'
        />

        <QuickTestimonials
          data={testimonials.blockTestimonials}
          className='py-[24px] md:py-[80px] lg:py-[80px]'
        />

        <GuidesQuickAccess
          data={guides.blockGuides}
          className='pb-[24px] md:pb-[80px] lg:pt-[20px]'
        />

        <CallToAction data={cta.blockCta} />
      </CommonLayout>
    </>
  )
}

export async function getStaticProps({ preview = false }) {
  const pageData = await getHomePage()

  return {
    props: {
      pageData,
    },
  }
}

export default Page
